<!DOCTYPE html>
<html>
    <head>
        <title>Accman Refresh : ARF-38 - Sap Import</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Accman Refresh</a></span>
                            </li>
                                                    <li>
                                <span><a href="Accman-Refresh-Home_17170433.html">Accman Refresh Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="AccMan-Script-Implementation-Effort-Matrix_17170435.html">AccMan Script Implementation Effort Matrix</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Accman Refresh : ARF-38 - Sap Import
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (ujs077)</span>, last modified on Dec 24, 2014
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <h2 id="ARF-38-SapImport-SAPImport">SAP Import</h2><h3 id="ARF-38-SapImport-Overview">Overview</h3><p>Apply changes to AccMan Person table based on data in SAP ZaccMan database. This script is based on banner4person.pl script.</p><p>Script perform many tasks</p><ul><li>Connect to SAP database (SQL Server) and copy data from table ZaccMan</li><li>Connect to AccMan Database and clone all data copied from ZaccMan to sap_import table.</li><li>All previous data from sap_import will be deleted first</li><li>New ImportId will be generated, which will be used for every single transaction in this process.</li><li>process than iterate through each person record and either perform Update or insert actions.</li><li>For example if staffid/personalnumber matched in existing person table, update person action will be performed. If not found insert person action will be performed.</li><li>Every single field in the row will be validated. For example name will be checked for any special character, or sap department code will be matched to AccMan department using map table etc.</li><li>For any invalid person/row, entry will be marked as bad data and logged in invalid_data_P.txt file</li><li>Any personnumber which are no longer exists (left) will be deleted and logged in the file.</li><li>All updated and new person record will be counted and logged in the file.</li><li>Any person whose status is present but not found will be added to missing_staff table. Same will be saved as csv file.</li><li>To complete import process Person_import table will be updated with importId generated in previous step.</li></ul><h3 id="ARF-38-SapImport-HowtoTest.netScript">How to Test .net Script</h3><p>To test this script one will require access to AccMan and Sap ZaccMan Database. This test will be time consuming as it will copy all person data from sap, copied to AccMan table, validate, update, add or delete based on status and complete the process. To make it faster limit the person data to 100 in ZaccMan database query.</p><p><strong>Note</strong>: Password generated is using inbuilt mysql function. This will only works if mysql is hosted on Linux server. Need more testing as it involves more actions in one single script. Lastly would advice to split this script to make it lighter and easy to test.</p>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Mar 29, 2021 11:13</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>

<!DOCTYPE html>
<html>
    <head>
        <title>Accman : The end-to-end testing of Perl Scripts compared to .Net processes including the Banner Import stage.</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Accman</a></span>
                            </li>
                                                    <li>
                                <span><a href="Accman-Home_16384043.html">Accman Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Testing_23200775.html">Testing</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Accman : The end-to-end testing of Perl Scripts compared to .Net processes including the Banner Import stage.
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Julia Kelbrick</span>, last modified on Jan 29, 2016
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>exit</p><p> </p><p> </p><p>Following the rewrite of the AccMan Perl scripts to .Net, two test processes were developed to ensure that the processing results of the .Net application is the same as that of the Perl scripts being replaced.  The following section describes how to reproduce the second of these tests.</p><p><span>In this stage of testing, <u><strong>production</strong></u> data copied to the <strong>MailPerl</strong> and <strong>MailNet</strong> databases was used as the basis for testing and the &quot;Banner Import&quot; process was added to the the test cycle to end-to-end test the processing of data from the start of the process when it is imported from Banner, right through to the creation and update of the Person table.</span></p><p> </p><div class="table-wrap"><table class="confluenceTable"><thead><tr><th class="highlight-green confluenceTh" data-highlight-colour="green"><div class="tablesorter-header-inner">Test Prerequisites</div></th></tr></thead><tbody><tr><td class="confluenceTd">Arrange for the Database Analysts to create two new database instances &quot;MailPerl&quot; and &quot;MailNet&quot; on MySQL database server <a class="external-link" href="http://uos-t-rhel-03.isdads.salford.ac.uk/" rel="nofollow">uos-t-rhel-03.isdads.salford.ac.uk</a>:3306</td></tr><tr><td class="confluenceTd">Arrange for the Database Analysts to restore the Production AccMan &quot;Mail&quot; database to the new &quot;MailPerl&quot; and &quot;MailNet&quot; instances</td></tr><tr><td class="confluenceTd">Make sure all Test environment log folders are empty.</td></tr><tr><td class="confluenceTd">Get the latest versions of the AccMan.Net and AccMan Perl Applications.</td></tr><tr><td class="confluenceTd"> </td></tr></tbody></table></div><p> </p><p>The next set of tasks involve executing the Perl script processes against the <strong>MailPerl</strong> database.</p><p> </p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="highlight-green confluenceTh" colspan="4" data-highlight-colour="green">Steps to Configure and Carry out Perl Script Tests</th></tr><tr><th class="highlight-green confluenceTh" data-highlight-colour="green">Step</th><th class="highlight-green confluenceTh" data-highlight-colour="green">Test Step Instructions</th><th class="highlight-green confluenceTh" data-highlight-colour="green">Test Data</th><th class="highlight-green confluenceTh" data-highlight-colour="green">Expected Results</th></tr><tr><td class="confluenceTd">1</td><td class="confluenceTd"><p>RDP to <strong>uos-t-acbe-01</strong> and create new folder under c: and call it &quot;AccManPerlTest&quot;</p><p><em>[This step may have already been completed in the previous test stage]</em></p></td><td class="confluenceTd"> </td><td class="confluenceTd">New folder named &quot;AccmanPerlTest&quot; will be created under c:</td></tr><tr><td class="confluenceTd">2</td><td class="confluenceTd"><p>Open banner_import.bat file under c:\AccManPerlTest\Batch and make sure that the Banner4Import transaction is <strong>ENABLED</strong> (i.e. not remed out)</p><p>Save and close the file</p></td><td class="confluenceTd"> </td><td class="confluenceTd">New changes are saved</td></tr><tr><td class="confluenceTd">3</td><td class="confluenceTd">Open the MySQL workbench and connect to MailPerl database on <span> </span><a class="external-link" href="http://uos-t-rhel-03.isdads.salford.ac.uk/" rel="nofollow" style="text-decoration: underline;">uos-t-rhel-03.isdads.salford.ac.uk</a><span>:3306</span></td><td class="confluenceTd"><pre> </pre></td><td class="confluenceTd">MailPerl database connected successfully.</td></tr><tr><td class="confluenceTd">4</td><td class="confluenceTd"><p>Run select command to make sure there are some records in the banner_import table.</p><p>At the time of writing there were 3822 records copied from the production database.</p></td><td class="confluenceTd"><pre>Select count(*) from banner_import;</pre></td><td class="confluenceTd">Greater than 0 records selected</td></tr><tr><td class="confluenceTd">5</td><td class="confluenceTd"><p>Check Person table to confirm that it contains data copied from production.</p><p>At the time of writing the table contained 246,036 records</p></td><td class="confluenceTd"><pre>select count(*) from person;</pre></td><td class="confluenceTd">A significant number of Person records found</td></tr><tr><td class="confluenceTd">6</td><td class="confluenceTd">Run banner_import.bat file. Log files will be created for each transaction executed.</td><td class="confluenceTd"> </td><td class="confluenceTd"><p>All the Perl scripts triggered by banner_import.bat file are executed and log files created. The following Perl scripts should have been executed:</p><ul><li><span><a href="http://BTPnnn_double_disabled_fix.pl" class="external-link" rel="nofollow">BTPnnn_double_disabled_fix.pl</a> (report_only)</span></li><li><strong>banner4import.pl</strong></li><li><span><span><a href="http://banner4prog.pl" class="external-link" rel="nofollow">banner4prog.pl</a></span></span></li><li><span><a href="http://noshow.pl" class="external-link" rel="nofollow">noshow.pl</a><a class="external-link" href="http://noshow.pl/" rel="nofollow"></a></span></li><li><span><a href="http://banner4person.pl" class="external-link" rel="nofollow">banner4person.pl</a></span></li><li><span><a href="http://studentautostate.pl" class="external-link" rel="nofollow">studentautostate.pl</a><a class="external-link" href="http://studentautostate.pl/" rel="nofollow"></a></span></li><li><span><a href="http://restoreUFAA.pl" class="external-link" rel="nofollow">restoreUFAA.pl</a><a class="external-link" href="http://restoreufaa.pl/" rel="nofollow"></a></span></li><li><span><a href="http://banner4address.pl" class="external-link" rel="nofollow">banner4address.pl</a><a class="external-link" href="http://banner4address.pl/" rel="nofollow"></a></span></li><li><span><a href="http://BTPnnn_double_disabled_fix.pl" class="external-link" rel="nofollow">BTPnnn_double_disabled_fix.pl</a><a class="external-link" href="http://btpnnn_double_disabled_fix.pl/" rel="nofollow"> (report_only)</a></span></li></ul></td></tr><tr><td colspan="1" class="confluenceTd">7</td><td colspan="1" class="confluenceTd"><span>Select the number of new records in the MailPerl.Banner_Import table.</span></td><td colspan="1" class="confluenceTd"><pre>Select count(*) from banner_import;</pre></td><td colspan="1" class="confluenceTd">At the time of writing there were 33,772 records in the MailPerl.Banner_Import table. <span>When the .Net testing is completed we need to check that the number of new records in the </span><strong>MailPerl.Person</strong><span> table are the same as in </span><strong>MailNet.Person</strong><span>.</span></td></tr><tr><td class="confluenceTd">8</td><td class="confluenceTd">Select the number of new records in the mailperl.Person table.</td><td class="confluenceTd"><pre>select count(*) from person;</pre></td><td class="confluenceTd">At the time of writing there were 246,036 records in the <strong>MailPerl.Person</strong> table after running the Perl scripts.  When the .Net testing is completed we need to check that the number of new records in the <strong>MailPerl.Person</strong> table are the same as in <strong>MailNet.Person</strong>.</td></tr></tbody></table></div><p> </p><p> </p><p>Once the above tasks have been completed we will need to execute the .Net processes against the MailNet database, in the same order as we did for the Perl scripts and finally compare the results of the processing in the two databases.</p><p> </p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="highlight-green confluenceTh" colspan="4" data-highlight-colour="green">Steps to Configure and Carry out .Net Tests</th></tr><tr><th class="highlight-green confluenceTh" data-highlight-colour="green">Step</th><th class="highlight-green confluenceTh" data-highlight-colour="green">Test Step Instructions</th><th class="highlight-green confluenceTh" data-highlight-colour="green">Test Data</th><th class="highlight-green confluenceTh" data-highlight-colour="green">Expected Results</th></tr><tr><td class="confluenceTd">1</td><td class="confluenceTd"><p>RDP to <strong>uos-t-acbe-01</strong> and create new folder under c: and call it &quot;AccManNetTest&quot;</p><p><em>[This step may have already been completed in the previous test stage]</em></p></td><td class="confluenceTd"> </td><td class="confluenceTd">New folder named &quot;AccmanNetTest&quot; will be created under c:</td></tr><tr><td colspan="1" class="confluenceTd">2</td><td colspan="1" class="confluenceTd"><p>Create following folders under c:\AccmanNetTest </p><ul><li><span>AccmanBackendLibrary</span></li><li><span>ConsoleSchedulerService</span></li><li><span>Logs</span><span><em><br/></em></span><br/><span><em>[This step may have already been completed in the previous test stage]</em></span></li></ul></td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">Three new folder will be created</td></tr><tr><td colspan="1" class="confluenceTd">3</td><td colspan="1" class="confluenceTd"><p>Build Accman Latest project in VS 2010 and deploy binaries to AccmanBackendLibrary and ConsoleSchedulerService folders</p><p><em>[This step may have already been completed in the previous test stage]</em></p></td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">All files will be copied over</td></tr><tr><td colspan="1" class="confluenceTd">4</td><td colspan="1" class="confluenceTd">Ensure that the MailNet database has been populated from the production AccMan Mail database.</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">MailNet database is created and populated</td></tr><tr><td colspan="1" class="confluenceTd">5</td><td colspan="1" class="confluenceTd"><p>Open &quot;<strong>ConsoleSchedulerService.exe.config</strong>&quot; file under &quot;c:\AccmanNetTest\ConsoleSchedulerService\&quot; folder and make following changes under &lt;log4net&gt;:</p><pre>    &lt;file value=&quot;c:\AccmanNetTest\Logs\SchedulerService.log&quot; /&gt;</pre><pre>    &lt;level value=&quot;ALL&quot; /&gt;</pre><p>and save and close file</p><p><em>[This step may have already been completed in the previous test stage]</em></p></td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">Changes will be saved to &quot;<strong>ConsoleSchedulerService.exe.config</strong>&quot; file.</td></tr><tr><td colspan="1" class="confluenceTd">6</td><td colspan="1" class="confluenceTd"><p>Deploy the following quartz_jobs files to the c:\AccmanNetTest\ConsoleSchedulerService\ folder:</p><p><span class="confluence-embedded-file-wrapper"><span class="title" style="color: rgb(0,0,0);"><br/></span></span></p><p><span class="confluence-embedded-file-wrapper"><span class="title" style="color: rgb(0,0,0);"><span class="confluence-embedded-file-wrapper"><a class="confluence-embedded-file" href="/confluence/download/attachments/23201912/quartz_jobs_1501.xml?version=1&amp;modificationDate=1444408958000&amp;api=v2" data-nice-type="XML File" data-file-src="/confluence/download/attachments/23201912/quartz_jobs_1501.xml?version=1&amp;modificationDate=1444408958000&amp;api=v2" data-linked-resource-id="23201932" data-linked-resource-type="attachment" data-linked-resource-container-id="23201912" data-linked-resource-default-alias="quartz_jobs_1501.xml" data-mime-type="text/xml" data-has-thumbnail="false" data-linked-resource-version="1"><img src="download/resources/com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-resources/images/placeholder-small-code.png" height="150"/><span class="title">quartz_jobs_1501.xml</span></a></span><span class="confluence-embedded-file-wrapper"><a class="confluence-embedded-file" href="/confluence/download/attachments/23201912/quartz_jobs_1503.xml?version=2&amp;modificationDate=1444408958000&amp;api=v2" data-nice-type="XML File" data-file-src="/confluence/download/attachments/23201912/quartz_jobs_1503.xml?version=2&amp;modificationDate=1444408958000&amp;api=v2" data-linked-resource-id="23201928" data-linked-resource-type="attachment" data-linked-resource-container-id="23201912" data-linked-resource-default-alias="quartz_jobs_1503.xml" data-mime-type="text/xml" data-has-thumbnail="false" data-linked-resource-version="2"><img src="download/resources/com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-resources/images/placeholder-small-code.png" height="150"/><span class="title">quartz_jobs_1503.xml</span></a></span><span class="confluence-embedded-file-wrapper"><a class="confluence-embedded-file" href="/confluence/download/attachments/23201912/quartz_jobs_1504.xml?version=1&amp;modificationDate=1444408959000&amp;api=v2" data-nice-type="XML File" data-file-src="/confluence/download/attachments/23201912/quartz_jobs_1504.xml?version=1&amp;modificationDate=1444408959000&amp;api=v2" data-linked-resource-id="23201934" data-linked-resource-type="attachment" data-linked-resource-container-id="23201912" data-linked-resource-default-alias="quartz_jobs_1504.xml" data-mime-type="text/xml" data-has-thumbnail="false" data-linked-resource-version="1"><img src="download/resources/com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-resources/images/placeholder-small-code.png" height="150"/><span class="title">quartz_jobs_1504.xml</span></a></span><span class="confluence-embedded-file-wrapper"><a class="confluence-embedded-file" href="/confluence/download/attachments/23201912/quartz_jobs_1505.xml?version=1&amp;modificationDate=1444408959000&amp;api=v2" data-nice-type="XML File" data-file-src="/confluence/download/attachments/23201912/quartz_jobs_1505.xml?version=1&amp;modificationDate=1444408959000&amp;api=v2" data-linked-resource-id="23201935" data-linked-resource-type="attachment" data-linked-resource-container-id="23201912" data-linked-resource-default-alias="quartz_jobs_1505.xml" data-mime-type="text/xml" data-has-thumbnail="false" data-linked-resource-version="1"><img src="download/resources/com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-resources/images/placeholder-small-code.png" height="150"/><span class="title">quartz_jobs_1505.xml</span></a></span><span class="confluence-embedded-file-wrapper"><a class="confluence-embedded-file" href="/confluence/download/attachments/23201912/quartz_jobs_1507.xml?version=1&amp;modificationDate=1444408959000&amp;api=v2" data-nice-type="XML File" data-file-src="/confluence/download/attachments/23201912/quartz_jobs_1507.xml?version=1&amp;modificationDate=1444408959000&amp;api=v2" data-linked-resource-id="23201936" data-linked-resource-type="attachment" data-linked-resource-container-id="23201912" data-linked-resource-default-alias="quartz_jobs_1507.xml" data-mime-type="text/xml" data-has-thumbnail="false" data-linked-resource-version="1"><img src="download/resources/com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-resources/images/placeholder-small-code.png" height="150"/><span class="title">quartz_jobs_1507.xml</span></a></span><span class="confluence-embedded-file-wrapper"><a class="confluence-embedded-file" href="/confluence/download/attachments/23201912/quartz_jobs_1508.xml?version=1&amp;modificationDate=1444408959000&amp;api=v2" data-nice-type="XML File" data-file-src="/confluence/download/attachments/23201912/quartz_jobs_1508.xml?version=1&amp;modificationDate=1444408959000&amp;api=v2" data-linked-resource-id="23201937" data-linked-resource-type="attachment" data-linked-resource-container-id="23201912" data-linked-resource-default-alias="quartz_jobs_1508.xml" data-mime-type="text/xml" data-has-thumbnail="false" data-linked-resource-version="1"><img src="download/resources/com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-resources/images/placeholder-small-code.png" height="150"/><span class="title">quartz_jobs_1508.xml</span></a></span><span class="confluence-embedded-file-wrapper"><a class="confluence-embedded-file" href="/confluence/download/attachments/23201912/quartz_jobs_1509.xml?version=1&amp;modificationDate=1444408960000&amp;api=v2" data-nice-type="XML File" data-file-src="/confluence/download/attachments/23201912/quartz_jobs_1509.xml?version=1&amp;modificationDate=1444408960000&amp;api=v2" data-linked-resource-id="23201938" data-linked-resource-type="attachment" data-linked-resource-container-id="23201912" data-linked-resource-default-alias="quartz_jobs_1509.xml" data-mime-type="text/xml" data-has-thumbnail="false" data-linked-resource-version="1"><img src="download/resources/com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-resources/images/placeholder-small-code.png" height="150"/><span class="title">quartz_jobs_1509.xml</span></a></span><br/></span></span></p><p><span class="confluence-embedded-file-wrapper"><span class="title" style="color: rgb(0,0,0);"><br/></span></span></p><p>The files contain the configurations for the following .Net processes:</p><ul><li><strong>quartz_jobs_1503.xml: BannerForImport (this configuration file is added to the ones used in the previous testing phase.)</strong></li><li><span>quartz_jobs_1505.xml: BannerForProg</span></li><li><span>quartz_jobs_1507.xml: NoShow</span></li><li><span>quartz_jobs_1504.xml: BannerForPerson</span></li><li><span>quartz_jobs_1509.xml: StudentAutostate</span></li><li><span>quartz_jobs_1508.xml: RestoreUFAA</span></li><li><span>quartz_jobs_1501.xml: BannerForAddress</span></li></ul><p>NB: These files contain the following changes to the standard &quot;quartz_jobs.xml&quot; configuration file:</p><ul><li><span>Change value for all &quot;DllFile&quot; keys to &quot;C:\AccmanNetTest\AccManBackEndLibrary\AccManBackEndLibrary.dll&quot;</span></li><li><span>Change Value for all &quot;AccmanDatabase&quot; keys to &quot;Server=<a class="external-link" href="http://uos-t-rhel-03.isdads.salford.ac.uk/" rel="nofollow">uos-t-rhel-03.isdads.salford.ac.uk</a>;Uid=accman;Pwd=*****;Database=mailNet;&quot;</span></li><li><span>Change value for all &quot;LogDirectory&quot; keys to &quot;C:\AccmanNetTest\Logs\{TransactionName}&quot;</span></li><li><span>Change value for All &quot;TransactionLogDirectory&quot; to &quot;c:\AccmanNetTest\Logs\TransactionLogs&quot;</span></li><li><span>Change value for all &quot;BannerDatabase&quot; keys to &quot;Data Source=(DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=<a class="external-link" href="http://uos-u-rhel-02.isdads.salford.ac.uk/" rel="nofollow">uos-u-rhel-02.isdads.salford.ac.uk</a>)(PORT=1521)))(CONNECT_DATA=(SERVICE_NAME=<a class="external-link" href="http://ubano1.salford.ac.uk/" rel="nofollow">UBANO1.salford.ac.uk</a>)));User Id=salford;Password=******;&quot;</span></li><li><span>Change value for all &quot;JanusDatabase&quot; to &quot;&quot;</span></li></ul></td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td></tr><tr><td colspan="1" class="confluenceTd">7</td><td colspan="1" class="confluenceTd">Open the MySQL workbench and connect to MailNet database on the test MySQL server: <a class="external-link" href="http://uos-t-rhel-03.isdads.salford.ac.uk/" rel="nofollow">uos-t-rhel-03.isdads.salford.ac.uk</a></td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">MailNet database connected successfully.</td></tr><tr><td colspan="1" class="confluenceTd">9</td><td colspan="1" class="confluenceTd"><p>Run select command to make sure there are some records in MailNet.banner_import table.</p><p><span>At the time of writing there were 3822 records copied from the production database.</span></p></td><td colspan="1" class="confluenceTd"><pre>Select count(*) from banner_import;</pre></td><td colspan="1" class="confluenceTd">Greater than 0 records selected.</td></tr><tr><td colspan="1" class="confluenceTd">12</td><td colspan="1" class="confluenceTd"><p>Check Person table to confirm that it contains data copied from production.</p><p>At the time of writing the table contained 246,036 records</p></td><td colspan="1" class="confluenceTd"> select count(*) from person;</td><td colspan="1" class="confluenceTd">A significant number of Person records found</td></tr><tr><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"><p><u>Next we shall execute each of the .Net processes in turn ensuring to keep to the following order:</u></p><p>To execute the &quot;<strong>BannerForImport</strong>&quot; process, first edit app config file &quot;<strong>C:\AccManNetTest\ConsoleSchedulerService\ConsoleSchedulerService.exe.config</strong>&quot; and modify it to point at the &quot;<strong>quartz_jobs_1503.xml</strong>&quot; config file:</p><pre>         &lt;add key=&quot;quartz.plugin.xml.fileNames&quot; value=&quot;~/quartz_jobs_1503.xml&quot; /&gt;</pre><p>Start the ConsoleSchedulerService.exe from c:\AccmanTest\ConsoleSchedulerService\ folder and once the application has started, type in the following to execute the BannerForImport transaction number 1503:</p><pre>         e:1503</pre><p>The Console Scheduler will provide feedback as to when the process has started and completed. Wait until it says it has completed before typing &quot;exit&quot; to end the process.</p></td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"><p>Console Scheduler service must start with message:</p><ul><li>Starting scheduler...</li><li>Scheduler started successfully.</li><li>The scheduler will now run until you type &quot;exit&quot;</li><li>Type 'h' or 'help' for command options</li></ul><p>The Console Scheduler must say that it has completed processing before exiting from the command window.</p></td></tr><tr><td colspan="1" class="confluenceTd">14</td><td colspan="1" class="confluenceTd"><p>To execute the &quot;<strong>BannerForProg</strong>&quot; process, first edit app config file &quot;<strong>C:\AccManNetTest\ConsoleSchedulerService\ConsoleSchedulerService.exe.config</strong>&quot; and modify it to point at the &quot;<strong>quartz_jobs_1505.xml</strong>&quot; config file:</p><pre>         &lt;add key=&quot;quartz.plugin.xml.fileNames&quot; value=&quot;~/quartz_jobs_1505.xml&quot; /&gt;</pre><p>Start the ConsoleSchedulerService.exe from c:\AccmanTest\ConsoleSchedulerService\ folder and once the application has started, type in the following to execute the BannerForProg transaction number 1505:</p><pre>         e:1505</pre><p>The Console Scheduler will provide feedback as to when the process has started and completed. Wait until it says it has completed before typing &quot;exit&quot; to end the process.</p></td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"><p>The Console Scheduler must say that it has completed processing before exiting from the command window.</p></td></tr><tr><td colspan="1" class="confluenceTd">15</td><td colspan="1" class="confluenceTd"><p>To execute the &quot;<strong>NoShow</strong>&quot; process, first edit app config file &quot;<strong>C:\AccManNetTest\ConsoleSchedulerService\ConsoleSchedulerService.exe.config</strong>&quot; and modify it to point at the &quot;<strong>quartz_jobs_1507.xml</strong>&quot; config file:</p><pre>         &lt;add key=&quot;quartz.plugin.xml.fileNames&quot; value=&quot;~/quartz_jobs_1507.xml&quot; /&gt;</pre><p>Start the ConsoleSchedulerService.exe from c:\AccmanTest\ConsoleSchedulerService\ folder and once the application has started, type in the following to execute the NoShow transaction number 1507:</p><pre>         e:1507</pre><p>The Console Scheduler will provide feedback as to when the process has started and completed. Wait until it says it has completed before typing &quot;exit&quot; to end the process.</p></td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">The Console Scheduler must say that it has completed processing before exiting from the command window.</td></tr><tr><td colspan="1" class="confluenceTd">16</td><td colspan="1" class="confluenceTd"><p>To execute the &quot;<strong>BannerForPerson</strong>&quot; process, first edit app config file &quot;<strong>C:\AccManNetTest\ConsoleSchedulerService\ConsoleSchedulerService.exe.config</strong>&quot; and modify it to point at the &quot;<strong>quartz_jobs_1504.xml</strong>&quot; config file:</p><pre>         &lt;add key=&quot;quartz.plugin.xml.fileNames&quot; value=&quot;~/quartz_jobs_1504.xml&quot; /&gt;</pre><p>Start the ConsoleSchedulerService.exe from c:\AccmanTest\ConsoleSchedulerService\ folder and once the application has started, type in the following to execute the BannerForPerson transaction number 1504:</p><pre>         e:1504</pre><p>The Console Scheduler will provide feedback as to when the process has started and completed. Wait until it says it has completed before typing &quot;exit&quot; to end the process.</p></td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">The Console Scheduler must say that it has completed processing before exiting from the command window.</td></tr><tr><td colspan="1" class="confluenceTd">17</td><td colspan="1" class="confluenceTd"><p>To execute the &quot;<strong>StudentAutostate</strong>&quot; process, first edit app config file &quot;<strong>C:\AccManNetTest\ConsoleSchedulerService\ConsoleSchedulerService.exe.config</strong>&quot; and modify it to point at the &quot;<strong>quartz_jobs_1509.xml</strong>&quot; config file:</p><pre>         &lt;add key=&quot;quartz.plugin.xml.fileNames&quot; value=&quot;~/quartz_jobs_1509.xml&quot; /&gt;</pre><p>Start the ConsoleSchedulerService.exe from c:\AccmanTest\ConsoleSchedulerService\ folder and once the application has started, type in the following to execute the StudentAutostate transaction number 1509:</p><pre>         e:1509</pre><p>The Console Scheduler will provide feedback as to when the process has started and completed. Wait until it says it has completed before typing &quot;exit&quot; to end the process.</p></td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">The Console Scheduler must say that it has completed processing before exiting from the command window.</td></tr><tr><td colspan="1" class="confluenceTd">18</td><td colspan="1" class="confluenceTd"><p>To execute the &quot;<strong>RestoreUFAA</strong>&quot; process, first edit app config file &quot;<strong>C:\AccManNetTest\ConsoleSchedulerService\ConsoleSchedulerService.exe.config</strong>&quot; and modify it to point at the &quot;<strong>quartz_jobs_1508.xml</strong>&quot; config file:</p><pre>         &lt;add key=&quot;quartz.plugin.xml.fileNames&quot; value=&quot;~/quartz_jobs_1508.xml&quot; /&gt;</pre><p>Start the ConsoleSchedulerService.exe from c:\AccmanTest\ConsoleSchedulerService\ folder and once the application has started, type in the following to execute the RestoreUFAA transaction number 1508:</p><pre>         e:1508</pre><p>The Console Scheduler will provide feedback as to when the process has started and completed. Wait until it says it has completed before typing &quot;exit&quot; to end the process.</p></td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">The Console Scheduler must say that it has completed processing before exiting from the command window.</td></tr><tr><td colspan="1" class="confluenceTd">19</td><td colspan="1" class="confluenceTd"><p>To execute the &quot;<strong>BannerForAddress</strong>&quot; process, first edit app config file &quot;<strong>C:\AccManNetTest\ConsoleSchedulerService\ConsoleSchedulerService.exe.config</strong>&quot; and modify it to point at the &quot;<strong>quartz_jobs_1501.xml</strong>&quot; config file:</p><pre>         &lt;add key=&quot;quartz.plugin.xml.fileNames&quot; value=&quot;~/quartz_jobs_1501.xml&quot; /&gt;</pre><p>Start the ConsoleSchedulerService.exe from c:\AccmanTest\ConsoleSchedulerService\ folder and once the application has started, type in the following to execute the BannerForAddress transaction number 1501:</p><pre>         e:1501</pre><p>The Console Scheduler will provide feedback as to when the process has started and completed. Wait until it says it has completed before typing &quot;exit&quot; to end the process.</p></td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">The Console Scheduler must say that it has completed processing before exiting from the command window.</td></tr><tr><td colspan="1" class="confluenceTd">21</td><td colspan="1" class="confluenceTd"><p>Compare <a class="external-link" href="http://accman.net/" rel="nofollow">AccMan.net</a> test result with AccMan Perl script tests.</p><p>The following SQL statement contains a GROUP BY clause which will return a single row for a given PIDM when the records are identical in the MailPerl and MailNet databases and will return two rows for a given PIDM when the records are different in the two databases. The SQL statement could be amended to include &quot;HAVING COUNT(PIDM) = 1&quot; to only return the rows where the results are different (but I couldn't get it to work with the two select statements).</p><p>An alternative quick method for locating records that have been processed differently is by:</p><ul><li><span>pasting the results of the SQL statement in to a spreadsheet</span></li><li><span>insert a blank column in to column A</span></li><li><span>type formula <strong>=IF(b2=b3, &quot;diff&quot;, &quot;&quot;)</strong> in to cell <strong>A3</strong></span></li><li><span>copying and pasting the formula to all the data rows in column A</span></li><li><span>then using &quot;Find &amp; Select&quot; to locate the cells with the value &quot;diff&quot;</span></li></ul><p style="margin-left: 60.0px;"><span class="talk-image"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="161" width="459" confluence-query-params="effects=border-simple,shadow-kn" src="attachments/23201724/23201904.png?effects=border-simple,shadow-kn" data-image-src="attachments/23201724/23201904.png" data-unresolved-comment-count="0" data-linked-resource-id="23201904" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2015-10-9 15:1:2.png" data-base-url="https://confluence.salford.ac.uk:8444/confluence" data-linked-resource-content-type="image/png" data-linked-resource-container-id="23201724" data-linked-resource-container-version="15"></span></span></span></p><p>Records that have been processed differently by the two applications will look like this:</p><p style="margin-left: 60.0px;"><span class="talk-image"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="900" confluence-query-params="effects=border-simple,shadow-kn" src="attachments/23201724/23201905.png?effects=border-simple,shadow-kn" data-image-src="attachments/23201724/23201905.png" data-unresolved-comment-count="0" data-linked-resource-id="23201905" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2015-10-9 15:5:43.png" data-base-url="https://confluence.salford.ac.uk:8444/confluence" data-linked-resource-content-type="image/png" data-linked-resource-container-id="23201724" data-linked-resource-container-version="15"></span></span></span></p><p style="margin-left: 60.0px;"><span class="talk-image"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><br/></span></span></p><p> </p></td><td colspan="1" class="confluenceTd"><p>SELECT pidm, Initials, RealName, source_code, Namemod,<br/> old_rollnumber, new_rollnumber, visible_id, sos_code, person_status_code,<br/> dept_code, temp_person_code, qual_aim_code, person_state, yr_student, <br/> yr_course, acad_sess, reg_status, leaver_flag, talis_hold, barcode, title, program, stu_term, <br/> stu_levl, stu_styp, stu_degc, stu_block, <br/> stu_stst, stu_ests, stu_att, preferredName, start_date, end_date, secret, multi_post, b_date, <br/> sap_dept_code, is_alumnus<br/>FROM MailNet.Person <br/>WHERE pidm &lt;&gt; 0<br/>UNION ALL<br/>SELECT pidm, Initials, RealName, source_code, Namemod,<br/> old_rollnumber, new_rollnumber, visible_id, sos_code, person_status_code,<br/> dept_code, temp_person_code, qual_aim_code, person_state, yr_student, <br/> yr_course, acad_sess, reg_status, leaver_flag, talis_hold, barcode, title, program, stu_term, <br/> stu_levl, stu_styp, stu_degc, stu_block, <br/> stu_stst, stu_ests, stu_att, preferredName, start_date, end_date, secret, multi_post, b_date, <br/> sap_dept_code, is_alumnus<br/>FROM MailPerl.Person <br/>WHERE pidm &lt;&gt; 0<br/>GROUP BY Initials, RealName, source_code, Namemod,<br/> old_rollnumber, new_rollnumber, visible_id, sos_code, person_status_code,<br/> dept_code, temp_person_code, qual_aim_code, person_state, yr_student, <br/> yr_course, acad_sess, reg_status, leaver_flag, talis_hold, barcode, pidm, title, program, stu_term, <br/> stu_levl, stu_styp, stu_degc, stu_block, <br/> stu_stst, stu_ests, stu_att, preferredName, start_date, end_date, secret, multi_post, b_date, <br/> sap_dept_code, is_alumnus<br/>order by pidm;</p></td><td colspan="1" class="confluenceTd"><p><strong>Unfortunately, the final spreadsheet produced by this process was too large to attach in Confluence.</strong></p><p><strong><br/></strong></p><p><strong>See below for a summary of the results of testing in early October 2015</strong></p><p><strong><br/></strong></p><p><strong><br/></strong></p></td></tr><tr><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td></tr></tbody></table></div><p> </p><p> </p><h2 id="Theend-to-endtestingofPerlScriptscomparedto.NetprocessesincludingtheBannerImportstage.-SummaryofResultsofTestinginEarlyOctober2015:">Summary of Results of Testing in Early October 2015:</h2><p> </p><p>The two planned stages of testing for the AccMan Refresh project have now been completed.</p><p>The first stage consisted of processing 6350 test records by both the Perl Scripts and the new .Net processes and comparing the outputs.  No differences at all were found between the two outputs.</p><p>The second stage of testing consisted of processing data restored from the production AccMan database.  Around 159,000 records in the Banner_Import table were processed by the Perl Scripts and .Net processes.  As a result 2952 differences were found between the two systems (a difference rate of around 1.9%).</p><p>We've examined around 10% of these differences so far and have found they fall in to four groups:</p><p><span style="line-height: 1.42857;"><br/></span></p><p><span style="line-height: 1.42857;"><br/></span></p><ol><li><span style="line-height: 1.42857;">The largest group of differences is where the start and end dates are set to null in Perl script processing and set to Min. Date value in .Net processing.  Additionally </span><strong style="line-height: 1.42857;">reg_status</strong><span style="line-height: 1.42857;"> is set to “N” by the Perl scripts and null by .Net.  This may turn out not to be a problem, but probably requires further investigation to make sure.</span></li></ol><p> <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="900" confluence-query-params="effects=border-simple,shadow-kn" src="attachments/23201912/23201940.png?effects=border-simple,shadow-kn" data-image-src="attachments/23201912/23201940.png" data-unresolved-comment-count="0" data-linked-resource-id="23201940" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2015-10-9 18:6:48.png" data-base-url="https://confluence.salford.ac.uk:8444/confluence" data-linked-resource-content-type="image/png" data-linked-resource-container-id="23201912" data-linked-resource-container-version="10"></span></p><p> </p><p>2.  The second largest group consists of where the Perl scripts are calculating the academic session and term code as ‘0’ and presumably as a result is generating an incorrect <strong style="line-height: 1.42857;">person_state</strong>.  This looks like an error in the original application logic that has actually been corrected in the .Net version.</p><p> <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="900" confluence-query-params="effects=border-simple,shadow-kn" src="attachments/23201912/23201941.png?effects=border-simple,shadow-kn" data-image-src="attachments/23201912/23201941.png" data-unresolved-comment-count="0" data-linked-resource-id="23201941" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2015-10-9 18:7:21.png" data-base-url="https://confluence.salford.ac.uk:8444/confluence" data-linked-resource-content-type="image/png" data-linked-resource-container-id="23201912" data-linked-resource-container-version="10"></span></p><p>  </p><p>3.  <span style="line-height: 1.42857;">There are a very small number of instances where the </span><strong style="line-height: 1.42857;">is_alumnus</strong><span style="line-height: 1.42857;"> flag is being calculated differently between the two systems:</span></p><p> <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="900" confluence-query-params="effects=border-simple,shadow-kn" src="attachments/23201912/23201942.png?effects=border-simple,shadow-kn" data-image-src="attachments/23201912/23201942.png" data-unresolved-comment-count="0" data-linked-resource-id="23201942" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2015-10-9 18:7:47.png" data-base-url="https://confluence.salford.ac.uk:8444/confluence" data-linked-resource-content-type="image/png" data-linked-resource-container-id="23201912" data-linked-resource-container-version="10"></span></p><p>  </p><p>4.  <span style="line-height: 1.42857;">There are also a very small number of cases which on the surface look as though the student is simply on two programmes, however in the case below the record for programme ‘MST/CBP/P’ came from the database used for .Net testing and the other record came from the Perl testing database!  This requires further investigation.</span></p><p> <span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="900" confluence-query-params="effects=border-simple,shadow-kn" src="attachments/23201912/23201943.png?effects=border-simple,shadow-kn" data-image-src="attachments/23201912/23201943.png" data-unresolved-comment-count="0" data-linked-resource-id="23201943" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2015-10-9 18:8:12.png" data-base-url="https://confluence.salford.ac.uk:8444/confluence" data-linked-resource-content-type="image/png" data-linked-resource-container-id="23201912" data-linked-resource-container-version="10"></span></p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23201912/23201933.xml">quartz_jobs_1503.xml</a> (text/xml)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23201912/23201928.xml">quartz_jobs_1503.xml</a> (text/xml)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23201912/23201932.xml">quartz_jobs_1501.xml</a> (text/xml)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23201912/23201934.xml">quartz_jobs_1504.xml</a> (text/xml)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23201912/23201935.xml">quartz_jobs_1505.xml</a> (text/xml)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23201912/23201936.xml">quartz_jobs_1507.xml</a> (text/xml)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23201912/23201937.xml">quartz_jobs_1508.xml</a> (text/xml)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23201912/23201938.xml">quartz_jobs_1509.xml</a> (text/xml)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23201912/23201940.png">image2015-10-9 18:6:48.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23201912/23201941.png">image2015-10-9 18:7:21.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23201912/23201942.png">image2015-10-9 18:7:47.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23201912/23201943.png">image2015-10-9 18:8:12.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Mar 29, 2021 10:57</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>

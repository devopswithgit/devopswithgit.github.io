<!DOCTYPE html>
<html>
    <head>
        <title>Accman : Filters</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Accman</a></span>
                            </li>
                                                    <li>
                                <span><a href="Accman-Home_16384043.html">Accman Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Accman-Rewrite-Documentation-2013_16384056.html">Accman Rewrite Documentation 2013</a></span>
                            </li>
                                                    <li>
                                <span><a href="Logging_25628446.html">Logging</a></span>
                            </li>
                                                    <li>
                                <span><a href="Centralised-logging-with-ELK_26870078.html">Centralised logging with ELK</a></span>
                            </li>
                                                    <li>
                                <span><a href="Logstash_26870088.html">Logstash</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Accman : Filters
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (aaa45815)</span>, last modified on May 16, 2016
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p>Of the many filter plugins that logstash provides there are a number that are useful in transforming data from the various sources we would want to centralise. A sample filter configuration that transforms the input of a log file can be found below:</p><pre>filter {</pre><pre>    grok { match =&gt; [ &quot;message&quot;, &quot;(?m)%{TIMESTAMP_ISO8601:sourceTimestamp} \[(?&lt;level&gt;.*)\] %{GREEDYDATA:tempMessage}&quot; ] }</pre><pre>    mutate {</pre><pre>        replace =&gt; [ &quot;message&quot; , &quot;%{tempMessage}&quot; ]</pre><pre>        remove_field =&gt; [ &quot;tempMessage&quot; ]</pre><pre>    }</pre><pre>}</pre><p>The sample above shows how we could interpret information from AccMan.log's format. The &quot;grok&quot; section is a superset of the normal regular expression syntax and more information with regards to logstash's grok filter can be found <a href="https://www.elastic.co/guide/en/logstash/current/plugins-filters-grok.html" class="external-link" rel="nofollow">here</a>.</p><p>The match rules would result in the &quot;event&quot; object that eventually gets passed onto the output having three new properties of sourceTimestamp, level and tempMessage added to it.</p><p>The &quot;mutate&quot; filter will then mutate the &quot;event&quot; object by replacing the standard message (the original log entry provided by the input) and also removing the &quot;tempMessage&quot; property from the event so as to not see the original unformatted message in the output. There are shorthand methods of diong this and also pushing the correct timestamp into the standard @timestamp field. More information can be found here.</p>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Mar 29, 2021 10:56</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>

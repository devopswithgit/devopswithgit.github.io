<!DOCTYPE html>
<html>
    <head>
        <title>Accman : Fix Duplicate Transaction 43</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Accman</a></span>
                            </li>
                                                    <li>
                                <span><a href="Accman-Home_16384043.html">Accman Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="AccMan-Issues_19104073.html">AccMan Issues</a></span>
                            </li>
                                                    <li>
                                <span><a href="Completed_19595586.html">Completed</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Accman : Fix Duplicate Transaction 43
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Paul Daniels</span>, last modified by <span class='editor'> Unknown User (ujs079)</span> on Apr 08, 2016
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p> </p><p> </p><div class='plugin-tabmeta-details'><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Summary</th><td class="confluenceTd">Fix Duplicate Transaction 43</td></tr><tr><th class="confluenceTh">Issue Type</th><td class="confluenceTd"> Bug</td></tr><tr><th class="confluenceTh">Priority</th><td class="confluenceTd"> High/</td></tr><tr><th class="confluenceTh">Raised By</th><td class="confluenceTd"><a class="confluence-userlink user-mention" data-username="uis876" href="https://confluence.salford.ac.uk:8444/confluence/display/~uis876" data-linked-resource-id="824264" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://confluence.salford.ac.uk:8444/confluence">Paul Daniels</a></td></tr><tr><th class="confluenceTh">Date Raised</th><td class="confluenceTd"><time datetime="2015-04-20" class="date-past">20 Apr 2015</time> </td></tr><tr><th class="confluenceTh">Source</th><td class="confluenceTd"><a class="confluence-userlink user-mention" data-username="uis876" href="https://confluence.salford.ac.uk:8444/confluence/display/~uis876" data-linked-resource-id="824264" data-linked-resource-version="1" data-linked-resource-type="userinfo" data-base-url="https://confluence.salford.ac.uk:8444/confluence">Paul Daniels</a></td></tr><tr><th class="confluenceTh">JIRA Issue(s)</th><td class="confluenceTd">
<span class="jira-issue resolved" data-jira-key="ARF-220" >
                    <a href="https://jira.salford.ac.uk:8443/jira/browse/ARF-220?src=confmacro" class="jira-issue-key"><img class="icon"
                                                                                      src="https://jira.salford.ac.uk:8443/jira/secure/viewavatar?size=xsmall&amp;avatarId=10303&amp;avatarType=issuetype"/>ARF-220</a>
                                                <span class="aui-lozenge aui-lozenge-subtle             aui-lozenge-success
     jira-macro-single-issue-export-pdf">Closed</span>
                </span>
</td></tr></tbody></table></div><p> </p><h2 id="FixDuplicateTransaction43-Details">Details</h2><p>When staff or associates activate their account, the system allows them to do it twice generating multiple transaction 43s. This causes a race condition when generating the email address, resulting in all 999 addresses being added to the idm aliases table. Also stops any subsequent Type 43's being processed.</p><p>Unable to trace where the duplicate 43's are generated from so an additional column has been added to the Transaction table in the Accman database to trace transaction creation as part of 
<span class="jira-issue resolved" data-jira-key="ARF-220" >
                    <a href="https://jira.salford.ac.uk:8443/jira/browse/+ARF-220?src=confmacro" class="jira-issue-key"><img class="icon"
                                                                                      src="https://jira.salford.ac.uk:8443/jira/secure/viewavatar?size=xsmall&amp;avatarId=10303&amp;avatarType=issuetype"/>ARF-220</a>
                            -
            <span class="summary">Fix Duplicate Transaction 43</span>
                                                <span class="aui-lozenge aui-lozenge-subtle             aui-lozenge-success
     jira-macro-single-issue-export-pdf">Closed</span>
                </span>
</p></div>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/19596002/25627194.xlsx">duplicate_43.xlsx</a> (application/vnd.openxmlformats-officedocument.spreadsheetml.sheet)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/19596002/25628461.sql">ARF-220-duplicate_43.sql</a> (application/octet-stream)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/19596002/25628374.sql">ARF-220-duplicate_43.sql</a> (application/x-upload-data)
                                <br/>
                                                    </div>
                    </div>
                    
                                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="comments" class="pageSectionTitle">Comments:</h2>
                        </div>

                        <table border="0" width="100%">
                                                        <tr>
                                <td >
                                    <a name="comment-25627195"></a>
                                    <font class="smallfont"><p>I have been unable to link duplicate type 43 transactions with a originating source. I have composed a spreadsheet showing duplicate 43's from 01/01/2015 up to today (23/03/2016 13:00).</p><p><span class="confluence-embedded-file-wrapper"><a class="confluence-embedded-file" href="/confluence/download/attachments/19596002/duplicate_43.xlsx?version=1&amp;modificationDate=1458752661000&amp;api=v2" data-nice-type="Excel Spreadsheet" data-file-src="/confluence/download/attachments/19596002/duplicate_43.xlsx?version=1&amp;modificationDate=1458752661000&amp;api=v2" data-linked-resource-id="25627194" data-linked-resource-type="attachment" data-linked-resource-container-id="19596002" data-linked-resource-default-alias="duplicate_43.xlsx" data-mime-type="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" data-has-thumbnail="true" data-linked-resource-version="1"><img src="rest/documentConversion/latest/conversion/thumbnail/25627194/1" height="150"/></a></span></p><p> </p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/contenttypes/comment_16.png" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ujs079 at Mar 23, 2016 17:04
                                    </div>
                                </td>
                            </tr>
                                                        <tr>
                                <td  style="border-top: 1px dashed #666666">
                                    <a name="comment-25627306"></a>
                                    <font class="smallfont"><p>Added additional column to the transaction table and amended code to include additional parameter to DAO classes on branch:<br/><a href="https://uos-d-dbld-01/svn/SalfordDevelopment/.NET/Accman.NET/branches/ARF-220_Duplicate_Transaction_43" class="external-link" rel="nofollow">https://uos-d-dbld-01/svn/SalfordDevelopment/.NET/Accman.NET/branches/ARF-220_Duplicate_Transaction_43</a></p><p>The code changes impact the following services:<br/><br/></p><ul><li>Accman Front End</li><li>Accman Back End (AccManBackEndLibrary altered which affects ConsoleSchedulerService)</li><li>Accman Self Activation (Students)</li><li>Associate Request</li><li>Staff Self Activation</li><li>Bulk Password Update</li><li>Bulk Update Passwords</li><li>Synchronise Student Passwords</li><li>Password Reset</li></ul><p> </p><p>The following script needs to be run against the AccMan 'mail' database to create the required columns:</p><p><a href="attachments/19596002/25628374.sql" data-linked-resource-id="25628374" data-linked-resource-version="2" data-linked-resource-type="attachment" data-linked-resource-default-alias="ARF-220-duplicate_43.sql" data-linked-resource-content-type="application/x-upload-data" data-linked-resource-container-id="19596002" data-linked-resource-container-version="7">ARF-220-duplicate_43.sql</a></p></font>
                                    <div align="left" class="smallfont" style="color: #666666; width: 98%; margin-bottom: 10px;">
                                        <img src="images/icons/contenttypes/comment_16.png" height="16" width="16" border="0" align="absmiddle"/>
                                        Posted by ujs079 at Mar 29, 2016 14:30
                                    </div>
                                </td>
                            </tr>
                                                    </table>
                    </div>
                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Mar 29, 2021 10:55</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>

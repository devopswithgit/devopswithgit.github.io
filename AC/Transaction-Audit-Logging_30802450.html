<!DOCTYPE html>
<html>
    <head>
        <title>Accman : Transaction Audit Logging</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Accman</a></span>
                            </li>
                                                    <li>
                                <span><a href="Accman-Home_16384043.html">Accman Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Accman-Rewrite-Documentation-2013_16384056.html">Accman Rewrite Documentation 2013</a></span>
                            </li>
                                                    <li>
                                <span><a href="Logging_25628446.html">Logging</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Accman : Transaction Audit Logging
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Unknown User (aaa45816)</span>, last modified on Sep 22, 2016
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <h1 id="TransactionAuditLogging-true"><style type='text/css'>/*<![CDATA[*/
div.rbtoc1617011791452 {padding: 0px;}
div.rbtoc1617011791452 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1617011791452 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1617011791452'>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>1</span> <a href='#TransactionAuditLogging-true'></a></li>
<li><span class='TOCOutline'>2</span> <a href='#TransactionAuditLogging-Introduction'>Introduction</a></li>
<li><span class='TOCOutline'>3</span> <a href='#TransactionAuditLogging-DatabaseStructure'>Database Structure</a></li>
<li><span class='TOCOutline'>4</span> <a href='#TransactionAuditLogging-CodeClassMap'>Code Class Map</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>4.1</span> <a href='#TransactionAuditLogging-TransactionAudit'>TransactionAudit</a></li>
<li><span class='TOCOutline'>4.2</span> <a href='#TransactionAuditLogging-TransactionAuditMessage'>TransactionAuditMessage</a></li>
<li><span class='TOCOutline'>4.3</span> <a href='#TransactionAuditLogging-Transaction'>Transaction</a></li>
<li><span class='TOCOutline'>4.4</span> <a href='#TransactionAuditLogging-TransactionAuditDAO'>TransactionAuditDAO</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>4.4.1</span> <a href='#TransactionAuditLogging-Constructors'>Constructors</a></li>
<li><span class='TOCOutline'>4.4.2</span> <a href='#TransactionAuditLogging-AddTransactionAudit'>AddTransactionAudit</a></li>
<li><span class='TOCOutline'>4.4.3</span> <a href='#TransactionAuditLogging-UpdateTransactionAudit'>UpdateTransactionAudit</a></li>
<li><span class='TOCOutline'>4.4.4</span> <a href='#TransactionAuditLogging-AddTransactionAuditMessage'>AddTransactionAuditMessage</a></li>
<li><span class='TOCOutline'>4.4.5</span> <a href='#TransactionAuditLogging-GetTransactionAudit'>GetTransactionAudit</a></li>
</ul>
</li>
</ul>
</li>
<li><span class='TOCOutline'>5</span> <a href='#TransactionAuditLogging-Usage'>Usage</a>
<ul class='toc-indentation'>
<li><span class='TOCOutline'>5.1</span> <a href='#TransactionAuditLogging-Createtransactionauditrecord'>Create transaction audit record</a></li>
<li><span class='TOCOutline'>5.2</span> <a href='#TransactionAuditLogging-Gettransactionauditrecord'>Get transaction audit record</a></li>
<li><span class='TOCOutline'>5.3</span> <a href='#TransactionAuditLogging-Createtransactionauditmessagerecord'>Create transaction audit message record</a></li>
</ul>
</li>
</ul>
</div></h1><h1 id="TransactionAuditLogging-Introduction">Introduction</h1><p>Transaction logs are stored in text files, by using Log4net and common logging .net package. These text files can be viewed by transaction id and transaction type in Accman user history.</p><p>A more robust, searchable and maintainable approach to logging is to store it in the database.</p><p>This page details how the transactions are logged to the database.</p><h1 id="TransactionAuditLogging-DatabaseStructure">Database Structure</h1><p><img class="drawio-diagram-image" width="600" style="width:600px;" src="data:image/png;base64,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"/></p><p>Transactions table:</p><p>The transactions table holds the transactions with the field trID being the foreign key in the Transaction_Audit and Transaction_Audit_message tables.</p><p>The trID is posted into the Transaction_Audit_Message table as well so to provide a shortcut link for querying only certain required messages.</p><h1 id="TransactionAuditLogging-CodeClassMap">Code Class Map</h1><p><img class="drawio-diagram-image" width="202" style="width:202px;" src="data:image/png;base64,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"/></p><h2 id="TransactionAuditLogging-TransactionAudit">TransactionAudit</h2><p><strong>Namspace:</strong> uk.ac.salford.accman.backend.service.Models.Transactions</p><p><strong>Assembly:</strong> AccManLibrary</p><p>The TransactionAudit class represents the Transaction_Audit table record.</p><p>It is possible for the ExecuteStart to be null, if it is a child transaction. </p><p>This class is declared on the Transaction class ('Audit' property) as a single instance of a transaction audit.</p><p>The design is to be able to create and maintain one Audit record per transaction. It will be created on Transaction execution and then updated to reflect the transaction process.</p><p>The developer can update the transaction audit by using the TransactionAuditDAO class.</p><h2 id="TransactionAuditLogging-TransactionAuditMessage">TransactionAuditMessage</h2><p><strong>Namspace:</strong> uk.ac.salford.accman.backend.service.Models.Transactions</p><p><strong>Assembly:</strong> AccManLibrary</p><p>Each time the application logs a message for the current transaction, the message can be associated to the TransactionAudit record. The Messages property allows the developer to add messages which will be stored in the TransactionAuditMessage table.</p><h2 id="TransactionAuditLogging-Transaction">Transaction</h2><p><strong>Namspace:</strong> uk.ac.salford.accman.backend.service.Models.Transactions</p><p><strong>Assembly:</strong> AccManLibrary</p><p>The transaction class will load and make available the transaction audit property and other transaction data.</p><h2 id="TransactionAuditLogging-TransactionAuditDAO">TransactionAuditDAO</h2><p><strong>Namspace:</strong> uk.ac.salford.accman.Models.MySQL</p><p><strong>Assembly:</strong> AccManLibrary</p><h3 id="TransactionAuditLogging-Constructors">Constructors</h3><ol><li>Empty constructor creates a default new instance of the AccManDatabase class.</li><li>Pass in the AccManDatabase to use for the db commands e.g. for unit testing.</li></ol><h3 id="TransactionAuditLogging-AddTransactionAudit">AddTransactionAudit</h3><p><strong>Parameters:</strong> TransactionAudit object</p><p><strong>Returns:</strong> new transactionId INT</p><p>Pass in a transaction audit object to insert to the Transaction_Audit table.</p><h3 id="TransactionAuditLogging-UpdateTransactionAudit">UpdateTransactionAudit</h3><p><strong>Parameters:</strong> TransactionAudit object</p><p><strong>Returns: </strong>bool to identify successful update.</p><p>Pass in a transaction audit object to update the Transaction_Audit table.</p><h3 id="TransactionAuditLogging-AddTransactionAuditMessage">AddTransactionAuditMessage</h3><p><strong>Parameters:</strong> ref Transaction, TransactionAuditMessage message</p><p><strong>Returns: </strong>bool to identify successful insert.</p><p>This method allows the developer to create  and associate a transaction audit message to a transaction.</p><h3 id="TransactionAuditLogging-GetTransactionAudit">GetTransactionAudit</h3><p><strong>Parameters:</strong> transactionId int</p><p><strong>Returns: </strong>TransactionAudit object or null.</p><p>Pass in a transaction id to get the audit record as a TransactionAudit object. If it exists in the database, any transaction messages will also be populated within the method if they exist.</p><h1 id="TransactionAuditLogging-Usage">Usage</h1><h2 id="TransactionAuditLogging-Createtransactionauditrecord">Create transaction audit record</h2><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: c#; gutter: false; theme: Confluence" data-theme="Confluence">TransactionAudit audit = new TransactionAudit
{
    TransactionId = transaction.ID,
    ExecuteStart = DateTime.Now,
    IsRetry = transaction.TransactionState == TransactionState.Retry,
    Result = TransactionAuditResults.Success,
};
TransactionAuditDAO.AddTransactionAudit(audit);          </pre>
</div></div><h2 id="TransactionAuditLogging-Gettransactionauditrecord">Get transaction audit record</h2><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: c#; gutter: false; theme: Confluence" data-theme="Confluence"> transaction.Audit = TransactionAuditDAO.GetTransactionAudit(transaction.ID);</pre>
</div></div><h2 id="TransactionAuditLogging-Createtransactionauditmessagerecord">Create transaction audit message record</h2><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: c#; gutter: false; theme: Confluence" data-theme="Confluence">TransactionAuditDAO.AddTransactionAuditMessage(
    ref transaction,
    new TransactionAuditMessage
        {
            Message = &quot;Failed to load data.&quot;,
            Recorded = DateTime.Now,
            TransactionAuditId = transaction.Audit.Id
        });</pre>
</div></div>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/30802450/30802442">Transaction_Audit tables</a> (application/drawio)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/30802450/30802443.png">Transaction_Audit tables.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/30802450/30802444">Transaction_Audit tables</a> (application/drawio)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/30802450/30802445.png">Transaction_Audit tables.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/30802450/30802440">Transaction_Audit tables</a> (application/drawio)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/30802450/30802441.png">Transaction_Audit tables.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/30802450/30802448">Transaction Class mapp</a> (application/drawio)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/30802450/30802449.png">Transaction Class mapp.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/30802450/30802446">Transaction Class mapp</a> (application/drawio)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/30802450/30802447.png">Transaction Class mapp.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Mar 29, 2021 10:56</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>

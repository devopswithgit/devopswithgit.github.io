<!DOCTYPE html>
<html>
    <head>
        <title>Accman : The end-to-end testing of Perl Scripts compared to .Net processes excluding the Banner Import stage</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Accman</a></span>
                            </li>
                                                    <li>
                                <span><a href="Accman-Home_16384043.html">Accman Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Testing_23200775.html">Testing</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Accman : The end-to-end testing of Perl Scripts compared to .Net processes excluding the Banner Import stage
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Julia Kelbrick</span>, last modified on Oct 09, 2015
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p> </p><p>Following the rewrite of the AccMan Perl scripts to .Net, two test processes were developed to ensure that the processing results of the .Net application is the same as that of the Perl scripts being replaced.  The following sections describes how to reproduce the first of these tests.</p><p>This stage of testing utilised two new temporary copies of the AccMan database, copied from the production database.  One database (MailPerl) was used to run the Perl Scripts against and the second database (MailNet) was used by the new .Net application.  6350 test cases were inserted in to the <strong>Banner_Import</strong> tables of each of the databases.  The result of the processing was to create and update records in the AccMan <strong>Person</strong> table.  At the end of testing, the <strong>MailPerl.Person</strong> and the <strong>MailNet.Person</strong> tables were compared in order to identify any differences in processing between the new .Net application and the Perl scripts being replaced.</p><p> </p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="highlight-green confluenceTh" data-highlight-colour="green">Test Prerequisites</th></tr><tr><td class="confluenceTd">Arrange for the Database Analysts to create two new database instances &quot;MailPerl&quot; and &quot;MailNet&quot; on MySQL database server <a href="http://uos-t-rhel-03.isdads.salford.ac.uk" class="external-link" rel="nofollow">uos-t-rhel-03.isdads.salford.ac.uk</a>:3306</td></tr><tr><td class="confluenceTd">Arrange for the Database Analysts to restore the Production AccMan &quot;Mail&quot; database to the new &quot;MailPerl&quot; and &quot;MailNet&quot; instances</td></tr><tr><td class="confluenceTd">Make sure all Test environment log folders are empty.</td></tr><tr><td class="confluenceTd">Get the latest versions of the AccMan.Net and AccMan Perl Applications.</td></tr><tr><td class="confluenceTd"> </td></tr></tbody></table></div><p> </p><p>The next set of tasks involve executing the Perl script processes against the <strong>MailPerl</strong> database.</p><p> </p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="highlight-green confluenceTh" colspan="4" data-highlight-colour="green">Steps to Configure and Carry out Perl Script Tests</th></tr><tr><th class="highlight-green confluenceTh" data-highlight-colour="green">Step</th><th class="highlight-green confluenceTh" data-highlight-colour="green">Test Step Instructions</th><th class="highlight-green confluenceTh" data-highlight-colour="green">Test Data</th><th class="highlight-green confluenceTh" data-highlight-colour="green">Expected Results</th></tr><tr><td class="confluenceTd">1</td><td class="confluenceTd">RDP to <strong>uos-t-acbe-01</strong> and create new folder under c: and call it &quot;AccManPerlTest&quot;</td><td class="confluenceTd"> </td><td class="confluenceTd">New folder named &quot;AccmanPerlTest&quot; will be created under c:</td></tr><tr><td class="confluenceTd">2</td><td class="confluenceTd"><p>Open banner_import.bat file under c:\<span>AccManPerlTest</span>\Batch and disable (rem) the Banner4Import transaction.</p><p>Save and close the file</p></td><td class="confluenceTd"> </td><td class="confluenceTd">New changes are saved</td></tr><tr><td class="confluenceTd">3</td><td class="confluenceTd">Open the MySQL workbench and connect to MailPerl database on <span> <span> </span><a class="external-link" href="http://uos-t-rhel-03.isdads.salford.ac.uk/" rel="nofollow" style="text-decoration: underline;">uos-t-rhel-03.isdads.salford.ac.uk</a><span>:3306</span></span></td><td class="confluenceTd"><pre> </pre></td><td class="confluenceTd">MailPerl database connected successfully.</td></tr><tr><td class="confluenceTd">4</td><td class="confluenceTd">Delete all records from banner_import table</td><td class="confluenceTd"><pre>DELETE FROM banner_import;</pre></td><td class="confluenceTd">All the records will be deleted from banner_import table</td></tr><tr><td class="confluenceTd">5</td><td class="confluenceTd">Run select command to make sure there are no records in banner_import table</td><td class="confluenceTd"><pre>Select * from banner_import</pre></td><td class="confluenceTd">0 records selected</td></tr><tr><td class="confluenceTd">6</td><td class="confluenceTd">Populate test data for banner_import table in MailPerl MySQL Database.</td><td class="confluenceTd"><p>Open attached &quot;BannerForPerson - SQL Insert Script for Perl.sql&quot; in MySQL workbench to run all insert statements.</p><p><span class="confluence-embedded-file-wrapper"><a class="confluence-embedded-file" href="/confluence/download/attachments/23201724/BannerForPerson%20-%20SQL%20Insert%20Script%20for%20Perl.sql?version=1&amp;modificationDate=1444383220000&amp;api=v2" data-nice-type="null" data-file-src="/confluence/download/attachments/23201724/BannerForPerson%20-%20SQL%20Insert%20Script%20for%20Perl.sql?version=1&amp;modificationDate=1444383220000&amp;api=v2" data-linked-resource-id="23201869" data-linked-resource-type="attachment" data-linked-resource-container-id="23201724" data-linked-resource-default-alias="BannerForPerson - SQL Insert Script for Perl.sql" data-mime-type="application/x-upload-data" data-has-thumbnail="false" data-linked-resource-version="1"><img src="download/resources/com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-resources/images/placeholder-small-file.png" height="150"/><span class="title">BannerForPerson - SQL Insert Script for Perl.sql</span></a></span></p></td><td class="confluenceTd">6350 records will be added to banner_import table</td></tr><tr><td class="confluenceTd">7</td><td class="confluenceTd">Run select command to make sure there are test data in banner_import table</td><td class="confluenceTd"><pre>Select * from banner_import;</pre></td><td class="confluenceTd">6350 records will be selected</td></tr><tr><td class="confluenceTd">8</td><td class="confluenceTd">Check Person table to confirm there are no person data available for all persons in banner_import table.</td><td class="confluenceTd"><pre>select * from person where SPRIDEN_ID like '@6%' order by PIDM;</pre></td><td class="confluenceTd">0 person records found</td></tr><tr><td class="confluenceTd">9</td><td class="confluenceTd">'If any records are found in the Person table where SPRIDEN_ID like ''@6%' then delete them and repeat step 8.</td><td class="confluenceTd"><pre>delete from person where SPRIDEN_ID like '@6%' order by PIDM;</pre></td><td class="confluenceTd"> </td></tr><tr><td class="confluenceTd">10</td><td class="confluenceTd">Run banner_import.bat file. Log files will be created for each transaction executed.</td><td class="confluenceTd"> </td><td class="confluenceTd"><p>All the Perl scripts triggered by banner_import.bat file are executed and log files created. The following Perl scripts should have been executed:</p><ul style="list-style-type: square;"><li>BTPnnn_double_disabled_fix.pl (report_only)</li><li><span style="line-height: 1.42857;">banner4prog.pl</span></li><li>noshow.pl<a href="http://noshow.pl" class="external-link" rel="nofollow"></a></li><li>banner4person.pl</li><li>studentautostate.pl<a href="http://studentautostate.pl" class="external-link" rel="nofollow"></a></li><li>restoreUFAA.pl<a href="http://restoreUFAA.pl" class="external-link" rel="nofollow"></a></li><li>banner4address.pl<a href="http://banner4address.pl" class="external-link" rel="nofollow"></a></li><li>BTPnnn_double_disabled_fix.pl<a href="http://BTPnnn_double_disabled_fix.pl" class="external-link" rel="nofollow"> (report_only)</a></li></ul></td></tr><tr><td class="confluenceTd">11</td><td class="confluenceTd">Select the number of new records in the mailperl.Person table.</td><td class="confluenceTd"><pre>select * from person where SPRIDEN_ID like '@6%';</pre></td><td class="confluenceTd">5774 records now exist in the <strong>MailPerl.Person</strong> table.  When the .Net testing is completed we need to check that the number of new records in the <strong>MailPerl.Person</strong> table are the same as in <strong>MailNet.Person</strong>.</td></tr></tbody></table></div><p> </p><p> </p><p>Once the above tasks have been completed we will need to execute the .Net processes against the MailNet database, in the same order as we did for the Perl scripts and finally compare the results of the processing in the two databases.</p><p> </p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="highlight-green confluenceTh" colspan="4" data-highlight-colour="green">Steps to Configure and Carry out .Net Tests</th></tr><tr><th class="highlight-green confluenceTh" data-highlight-colour="green">Step</th><th class="highlight-green confluenceTh" data-highlight-colour="green">Test Step Instructions</th><th class="highlight-green confluenceTh" data-highlight-colour="green">Test Data</th><th class="highlight-green confluenceTh" data-highlight-colour="green">Expected Results</th></tr><tr><td class="confluenceTd">1</td><td class="confluenceTd">RDP to <strong>uos-t-acbe-01</strong> and create new folder under c: and call it &quot;AccManNetTest&quot;</td><td class="confluenceTd"> </td><td class="confluenceTd">New folder named &quot;AccmanNetTest&quot; will be created under c:</td></tr><tr><td colspan="1" class="confluenceTd">2</td><td colspan="1" class="confluenceTd"><p>Create following folders under c:\AccmanNetTest </p><ul style="list-style-type: square;"><li>AccmanBackendLibrary</li><li>ConsoleSchedulerService</li><li>Logs</li></ul></td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">Three new folder will be created</td></tr><tr><td colspan="1" class="confluenceTd">3</td><td colspan="1" class="confluenceTd">Build Accman Latest project in VS 2010 and deploy binaries to AccmanBackendLibrary and ConsoleSchedulerService folders</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">All files will be copied over</td></tr><tr><td colspan="1" class="confluenceTd">4</td><td colspan="1" class="confluenceTd">Ensure that the MailNet database has been populated from the production AccMan Mail database.</td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">MailNet database is created and populated</td></tr><tr><td colspan="1" class="confluenceTd">5</td><td colspan="1" class="confluenceTd"><p>Open &quot;<strong>ConsoleSchedulerService.exe.config</strong>&quot; file under &quot;c:\AccmanNetTest\ConsoleSchedulerService\&quot; folder and make following changes under &lt;log4net&gt;:</p><pre>    &lt;file value=&quot;c:\AccmanNetTest\Logs\SchedulerService.log&quot; /&gt;</pre><pre>    &lt;level value=&quot;ALL&quot; /&gt;</pre><p>and save and close file</p></td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">Changes will be saved to &quot;<strong>ConsoleSchedulerService.exe.config</strong>&quot; file.</td></tr><tr><td colspan="1" class="confluenceTd">6</td><td colspan="1" class="confluenceTd"><p>Deploy the following quartz_jobs files to the c:\AccmanNetTest\ConsoleSchedulerService\ folder:</p><p><span class="confluence-embedded-file-wrapper"><a class="confluence-embedded-file" href="/confluence/download/attachments/23201724/quartz_jobs_1501.xml?version=1&amp;modificationDate=1444386536000&amp;api=v2" data-nice-type="XML File" data-file-src="/confluence/download/attachments/23201724/quartz_jobs_1501.xml?version=1&amp;modificationDate=1444386536000&amp;api=v2" data-linked-resource-id="23201877" data-linked-resource-type="attachment" data-linked-resource-container-id="23201724" data-linked-resource-default-alias="quartz_jobs_1501.xml" data-mime-type="text/xml" data-has-thumbnail="false" data-linked-resource-version="1"><img src="download/resources/com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-resources/images/placeholder-small-code.png" height="150"/><span class="title">quartz_jobs_1501.xml</span></a></span><span class="confluence-embedded-file-wrapper"><a class="confluence-embedded-file" href="/confluence/download/attachments/23201724/quartz_jobs_1504.xml?version=1&amp;modificationDate=1444386536000&amp;api=v2" data-nice-type="XML File" data-file-src="/confluence/download/attachments/23201724/quartz_jobs_1504.xml?version=1&amp;modificationDate=1444386536000&amp;api=v2" data-linked-resource-id="23201878" data-linked-resource-type="attachment" data-linked-resource-container-id="23201724" data-linked-resource-default-alias="quartz_jobs_1504.xml" data-mime-type="text/xml" data-has-thumbnail="false" data-linked-resource-version="1"><img src="download/resources/com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-resources/images/placeholder-small-code.png" height="150"/><span class="title">quartz_jobs_1504.xml</span></a></span><span class="confluence-embedded-file-wrapper"><a class="confluence-embedded-file" href="/confluence/download/attachments/23201724/quartz_jobs_1505.xml?version=1&amp;modificationDate=1444386536000&amp;api=v2" data-nice-type="XML File" data-file-src="/confluence/download/attachments/23201724/quartz_jobs_1505.xml?version=1&amp;modificationDate=1444386536000&amp;api=v2" data-linked-resource-id="23201879" data-linked-resource-type="attachment" data-linked-resource-container-id="23201724" data-linked-resource-default-alias="quartz_jobs_1505.xml" data-mime-type="text/xml" data-has-thumbnail="false" data-linked-resource-version="1"><img src="download/resources/com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-resources/images/placeholder-small-code.png" height="150"/><span class="title">quartz_jobs_1505.xml</span></a></span><span class="confluence-embedded-file-wrapper"><a class="confluence-embedded-file" href="/confluence/download/attachments/23201724/quartz_jobs_1507.xml?version=1&amp;modificationDate=1444386537000&amp;api=v2" data-nice-type="XML File" data-file-src="/confluence/download/attachments/23201724/quartz_jobs_1507.xml?version=1&amp;modificationDate=1444386537000&amp;api=v2" data-linked-resource-id="23201880" data-linked-resource-type="attachment" data-linked-resource-container-id="23201724" data-linked-resource-default-alias="quartz_jobs_1507.xml" data-mime-type="text/xml" data-has-thumbnail="false" data-linked-resource-version="1"><img src="download/resources/com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-resources/images/placeholder-small-code.png" height="150"/><span class="title">quartz_jobs_1507.xml</span></a></span><span class="confluence-embedded-file-wrapper"><a class="confluence-embedded-file" href="/confluence/download/attachments/23201724/quartz_jobs_1508.xml?version=1&amp;modificationDate=1444386537000&amp;api=v2" data-nice-type="XML File" data-file-src="/confluence/download/attachments/23201724/quartz_jobs_1508.xml?version=1&amp;modificationDate=1444386537000&amp;api=v2" data-linked-resource-id="23201881" data-linked-resource-type="attachment" data-linked-resource-container-id="23201724" data-linked-resource-default-alias="quartz_jobs_1508.xml" data-mime-type="text/xml" data-has-thumbnail="false" data-linked-resource-version="1"><img src="download/resources/com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-resources/images/placeholder-small-code.png" height="150"/><span class="title">quartz_jobs_1508.xml</span></a></span><span class="confluence-embedded-file-wrapper"><a class="confluence-embedded-file" href="/confluence/download/attachments/23201724/quartz_jobs_1509.xml?version=1&amp;modificationDate=1444386538000&amp;api=v2" data-nice-type="XML File" data-file-src="/confluence/download/attachments/23201724/quartz_jobs_1509.xml?version=1&amp;modificationDate=1444386538000&amp;api=v2" data-linked-resource-id="23201882" data-linked-resource-type="attachment" data-linked-resource-container-id="23201724" data-linked-resource-default-alias="quartz_jobs_1509.xml" data-mime-type="text/xml" data-has-thumbnail="false" data-linked-resource-version="1"><img src="download/resources/com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-resources/images/placeholder-small-code.png" height="150"/><span class="title">quartz_jobs_1509.xml</span></a></span></p><p>The files contain the configurations for the following .Net processes:</p><ul style="list-style-type: square;"><li>quartz_jobs_1505.xml: BannerForProg</li><li><span>quartz_jobs_1507.xml: NoShow</span></li><li><span><span>quartz_jobs_1504.xml: BannerForPerson</span></span></li><li><span><span><span>quartz_jobs_1509.xml: StudentAutostate</span></span></span></li><li><span><span><span><span>quartz_jobs_1508.xml: RestoreUFAA</span></span></span></span></li><li>quartz_jobs_1501.xml: BannerForAddress</li></ul><p> </p><p>NB: These files contain the following changes to the standard &quot;quartz_jobs.xml&quot; configuration file:</p><ul style="list-style-type: square;"><li>Change value for all &quot;DllFile&quot; keys to &quot;C:\AccmanNetTest\AccManBackEndLibrary\AccManBackEndLibrary.dll&quot;</li><li>Change Value for all &quot;AccmanDatabase&quot; keys to &quot;Server=<a href="http://uos-t-rhel-03.isdads.salford.ac.uk" class="external-link" rel="nofollow">uos-t-rhel-03.isdads.salford.ac.uk</a>;Uid=accman;Pwd=*****;Database=mailNet;&quot;</li><li>Change value for all &quot;LogDirectory&quot; keys to &quot;C:\AccmanNetTest\Logs\{TransactionName}&quot;</li><li>Change value for All &quot;TransactionLogDirectory&quot; to &quot;c:\AccmanNetTest\Logs\TransactionLogs&quot;</li><li>Change value for all &quot;BannerDatabase&quot; keys to &quot;Data Source=(DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=<a href="http://uos-u-rhel-02.isdads.salford.ac.uk" class="external-link" rel="nofollow">uos-u-rhel-02.isdads.salford.ac.uk</a>)(PORT=1521)))(CONNECT_DATA=(SERVICE_NAME=<a href="http://UBANO1.salford.ac.uk" class="external-link" rel="nofollow">UBANO1.salford.ac.uk</a>)));User Id=salford;Password=******;&quot;</li><li>Change value for all &quot;JanusDatabase&quot; to &quot;&quot;</li></ul></td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td></tr><tr><td colspan="1" class="confluenceTd">7</td><td colspan="1" class="confluenceTd">Open the MySQL workbench and connect to MailNet database on the test MySQL server: <a href="http://uos-t-rhel-03.isdads.salford.ac.uk" class="external-link" rel="nofollow">uos-t-rhel-03.isdads.salford.ac.uk</a></td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd">MailNet database connected successfully.</td></tr><tr><td colspan="1" class="confluenceTd">8</td><td colspan="1" class="confluenceTd">Delete all records from banner_import table.</td><td colspan="1" class="confluenceTd"><pre>DELETE FROM banner_import;</pre></td><td colspan="1" class="confluenceTd">All the records will be deleted from banner_import table</td></tr><tr><td colspan="1" class="confluenceTd">9</td><td colspan="1" class="confluenceTd">Run select command to make sure there are no records in banner_import table</td><td colspan="1" class="confluenceTd"><pre>Select * from banner_import;</pre></td><td colspan="1" class="confluenceTd">0 records selected</td></tr><tr><td colspan="1" class="confluenceTd">10</td><td colspan="1" class="confluenceTd">Populate test data for banner_import table in MailNet MySQL Database.</td><td colspan="1" class="confluenceTd"><p><span>Open attached &quot;BannerForPerson - SQL Insert Script for dotNet.sql&quot; in MySQL workbench to run all insert statements.</span></p><p><span><span class="confluence-embedded-file-wrapper"><a class="confluence-embedded-file" href="/confluence/download/attachments/23201724/BannerForPerson%20-%20SQL%20Insert%20Script%20for%20dotNet.sql?version=1&amp;modificationDate=1444388034000&amp;api=v2" data-nice-type="null" data-file-src="/confluence/download/attachments/23201724/BannerForPerson%20-%20SQL%20Insert%20Script%20for%20dotNet.sql?version=1&amp;modificationDate=1444388034000&amp;api=v2" data-linked-resource-id="23201885" data-linked-resource-type="attachment" data-linked-resource-container-id="23201724" data-linked-resource-default-alias="BannerForPerson - SQL Insert Script for dotNet.sql" data-mime-type="application/x-upload-data" data-has-thumbnail="false" data-linked-resource-version="1"><img src="download/resources/com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-resources/images/placeholder-small-file.png" height="150"/><span class="title">BannerForPerson - SQL Insert Script for dotNet.sql</span></a></span><br/></span></p></td><td colspan="1" class="confluenceTd">6350 records will be added to banner_import table</td></tr><tr><td colspan="1" class="confluenceTd">11</td><td colspan="1" class="confluenceTd">Run select command to make sure there are test data in banner_import table</td><td colspan="1" class="confluenceTd"><pre>Select * from banner_import;</pre></td><td colspan="1" class="confluenceTd">6350 records will be selected</td></tr><tr><td colspan="1" class="confluenceTd">12</td><td colspan="1" class="confluenceTd">Check Person table to confirm there are no person data available for all persons in banner_import table.</td><td colspan="1" class="confluenceTd"><pre>select * from person where SPRIDEN_ID like '@5%';</pre></td><td colspan="1" class="confluenceTd">0 person records found</td></tr><tr><td colspan="1" class="confluenceTd">13</td><td colspan="1" class="confluenceTd">If any records are found in the Person table where SPRIDEN_ID like ''@5%' then delete them and repeat step 12.</td><td colspan="1" class="confluenceTd"><pre>DELETE FROM banner_import;</pre></td><td colspan="1" class="confluenceTd">All the records will be deleted from banner_import table</td></tr><tr><td colspan="1" class="confluenceTd">14</td><td colspan="1" class="confluenceTd"><p><u>Next we shall execute each of the .Net processes in turn ensuring to keep to the following order:</u></p><p>To execute the &quot;<strong>BannerForPerson</strong>&quot; process, first edit app config file &quot;<strong>C:\AccManNetTest\ConsoleSchedulerService\ConsoleSchedulerService.exe.config</strong>&quot; and modify it to point at the &quot;<strong>quartz_jobs_1505.xml</strong>&quot; config file:</p><pre>         &lt;add key=&quot;quartz.plugin.xml.fileNames&quot; value=&quot;~/quartz_jobs_1505.xml&quot; /&gt;</pre><p>Start the ConsoleSchedulerService.exe from c:\AccmanTest\ConsoleSchedulerService\ folder and once the application has started, type in the following to execute the BannerForProg transaction number 1505:</p><pre>         e:1505</pre><p><span>The Console Scheduler will provide feedback as to when the process has started and completed. Wait until it says it has completed before typing &quot;exit&quot; to end the process.</span></p></td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"><p>Console Scheduler service must start with message:</p><ul style="list-style-type: square;"><li>Starting scheduler...</li><li>Scheduler started successfully.</li><li>The scheduler will now run until you type &quot;exit&quot;</li><li>Type 'h' or 'help' for command options</li></ul><p>The Console Scheduler must say that it has completed processing before exiting from the command window.</p></td></tr><tr><td colspan="1" class="confluenceTd">15</td><td colspan="1" class="confluenceTd"><p>To execute the &quot;<strong>NoShow</strong>&quot; process, first edit app config file &quot;<strong>C:\AccManNetTest\ConsoleSchedulerService\ConsoleSchedulerService.exe.config</strong>&quot; and modify it to point at the &quot;<strong>quartz_jobs_1507.xml</strong>&quot; config file:</p><pre>         &lt;add key=&quot;quartz.plugin.xml.fileNames&quot; value=&quot;~/quartz_jobs_1507.xml&quot; /&gt;</pre><p>Start the ConsoleSchedulerService.exe from c:\AccmanTest\ConsoleSchedulerService\ folder and once the application has started, type in the following to execute the NoShow transaction number 1507:</p><pre>         e:1507</pre><p>The Console Scheduler will provide feedback as to when the process has started and completed. Wait until it says it has completed before typing &quot;exit&quot; to end the process.</p></td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"><span>The Console Scheduler must say that it has completed processing before exiting from the command window.</span></td></tr><tr><td colspan="1" class="confluenceTd">16</td><td colspan="1" class="confluenceTd"><p>To execute the &quot;<strong>BannerForPerson</strong>&quot; process, first edit app config file &quot;<strong>C:\AccManNetTest\ConsoleSchedulerService\ConsoleSchedulerService.exe.config</strong>&quot; and modify it to point at the &quot;<strong>quartz_jobs_1504.xml</strong>&quot; config file:</p><pre>         &lt;add key=&quot;quartz.plugin.xml.fileNames&quot; value=&quot;~/quartz_jobs_1504.xml&quot; /&gt;</pre><p>Start the ConsoleSchedulerService.exe from c:\AccmanTest\ConsoleSchedulerService\ folder and once the application has started, type in the following to execute the BannerForPerson transaction number 1504:</p><pre>         e:1504</pre><p>The Console Scheduler will provide feedback as to when the process has started and completed. Wait until it says it has completed before typing &quot;exit&quot; to end the process.</p></td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"><span>The Console Scheduler must say that it has completed processing before exiting from the command window.</span></td></tr><tr><td colspan="1" class="confluenceTd">17</td><td colspan="1" class="confluenceTd"><p>To execute the &quot;<strong>StudentAutostate</strong>&quot; process, first edit app config file &quot;<strong>C:\AccManNetTest\ConsoleSchedulerService\ConsoleSchedulerService.exe.config</strong>&quot; and modify it to point at the &quot;<strong>quartz_jobs_1509.xml</strong>&quot; config file:</p><pre>         &lt;add key=&quot;quartz.plugin.xml.fileNames&quot; value=&quot;~/quartz_jobs_1509.xml&quot; /&gt;</pre><p>Start the ConsoleSchedulerService.exe from c:\AccmanTest\ConsoleSchedulerService\ folder and once the application has started, type in the following to execute the StudentAutostate transaction number 1509:</p><pre>         e:1509</pre><p>The Console Scheduler will provide feedback as to when the process has started and completed. Wait until it says it has completed before typing &quot;exit&quot; to end the process.</p></td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"><span>The Console Scheduler must say that it has completed processing before exiting from the command window.</span></td></tr><tr><td colspan="1" class="confluenceTd">18</td><td colspan="1" class="confluenceTd"><p>To execute the &quot;<strong>RestoreUFAA</strong>&quot; process, first edit app config file &quot;<strong>C:\AccManNetTest\ConsoleSchedulerService\ConsoleSchedulerService.exe.config</strong>&quot; and modify it to point at the &quot;<strong>quartz_jobs_1508.xml</strong>&quot; config file:</p><pre>         &lt;add key=&quot;quartz.plugin.xml.fileNames&quot; value=&quot;~/quartz_jobs_1508.xml&quot; /&gt;</pre><p>Start the ConsoleSchedulerService.exe from c:\AccmanTest\ConsoleSchedulerService\ folder and once the application has started, type in the following to execute the RestoreUFAA transaction number 1508:</p><pre>         e:1508</pre><p>The Console Scheduler will provide feedback as to when the process has started and completed. Wait until it says it has completed before typing &quot;exit&quot; to end the process.</p></td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"><span>The Console Scheduler must say that it has completed processing before exiting from the command window.</span></td></tr><tr><td colspan="1" class="confluenceTd">19</td><td colspan="1" class="confluenceTd"><p>To execute the &quot;<strong>BannerForAddress</strong>&quot; process, first edit app config file &quot;<strong>C:\AccManNetTest\ConsoleSchedulerService\ConsoleSchedulerService.exe.config</strong>&quot; and modify it to point at the &quot;<strong>quartz_jobs_1501.xml</strong>&quot; config file:</p><pre>         &lt;add key=&quot;quartz.plugin.xml.fileNames&quot; value=&quot;~/quartz_jobs_1501.xml&quot; /&gt;</pre><p>Start the ConsoleSchedulerService.exe from c:\AccmanTest\ConsoleSchedulerService\ folder and once the application has started, type in the following to execute the BannerForAddress transaction number 1501:</p><pre>         e:1501</pre><p>The Console Scheduler will provide feedback as to when the process has started and completed. Wait until it says it has completed before typing &quot;exit&quot; to end the process.</p></td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"><span>The Console Scheduler must say that it has completed processing before exiting from the command window.</span></td></tr><tr><td colspan="1" class="confluenceTd">20</td><td colspan="1" class="confluenceTd">Select person records to check that most (not necessarily all) of the persons from the banner_import have been added to MailNet.Person table.</td><td colspan="1" class="confluenceTd"><pre>select * from person where SPRIDEN_ID like '@5%';</pre></td><td colspan="1" class="confluenceTd"><span>5774 records will now exist in the </span><strong>MailNet.Person</strong><span> table.  This should be the same number as exist in the </span><strong>MailPerl.Person</strong><span> table.</span></td></tr><tr><td colspan="1" class="confluenceTd">21</td><td colspan="1" class="confluenceTd"><p>Compare <a href="http://AccMan.net" class="external-link" rel="nofollow">AccMan.net</a> test result with AccMan Perl script tests.</p><p>The following SQL statement contains a GROUP BY clause which will return a single row for a given PIDM when the records are identical in the MailPerl and MailNet databases and will return two rows for a given PIDM when the records are different in the two databases. The SQL statement could be amended to include &quot;HAVING COUNT(PIDM) = 1&quot; to only return the rows where the results are different (but I couldn't get it to work with the two select statements).</p><p>An alternative quick method for locating records that have been processed differently is by:</p><ul style="list-style-type: square;"><li>pasting the results of the SQL statement in to a spreadsheet</li><li>insert a blank column in to column A</li><li>type formula <strong>=IF(b2=b3, &quot;diff&quot;, &quot;&quot;)</strong> in to cell <strong>A3</strong></li><li>copying and pasting the formula to all the data rows in column A</li><li>then using &quot;Find &amp; Select&quot; to locate the cells with the value &quot;diff&quot;</li></ul><p style="margin-left: 60.0px;"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="161" width="459" confluence-query-params="effects=border-simple,shadow-kn" src="attachments/23201724/23201904.png?effects=border-simple,shadow-kn" data-image-src="attachments/23201724/23201904.png" data-unresolved-comment-count="0" data-linked-resource-id="23201904" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2015-10-9 15:1:2.png" data-base-url="https://confluence.salford.ac.uk:8444/confluence" data-linked-resource-content-type="image/png" data-linked-resource-container-id="23201724" data-linked-resource-container-version="15"></span></p><p>Records that have been processed differently by the two applications will look like this:</p><p style="margin-left: 60.0px;"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" width="900" confluence-query-params="effects=border-simple,shadow-kn" src="attachments/23201724/23201905.png?effects=border-simple,shadow-kn" data-image-src="attachments/23201724/23201905.png" data-unresolved-comment-count="0" data-linked-resource-id="23201905" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2015-10-9 15:5:43.png" data-base-url="https://confluence.salford.ac.uk:8444/confluence" data-linked-resource-content-type="image/png" data-linked-resource-container-id="23201724" data-linked-resource-container-version="15"></span></p></td><td colspan="1" class="confluenceTd"><p>SELECT spriden_id,pidm, Initials, RealName, source_code, Namemod,<br/> old_rollnumber, new_rollnumber, visible_id, sos_code, person_status_code,<br/> dept_code, temp_person_code, qual_aim_code, person_state, yr_student, <br/> yr_course, acad_sess, reg_status, leaver_flag, talis_hold, barcode, title, program, stu_term, <br/> stu_levl, stu_styp, stu_degc, stu_block, <br/> stu_stst, stu_ests, stu_att, preferredName, start_date, end_date, secret, multi_post, b_date, <br/> sap_dept_code, is_alumnus<br/>FROM MailNet.Person <br/>WHERE (spriden_id like '%@5%' or spriden_id like '%@6%')<br/>AND realname = 'Testdata'<br/>and pidm &gt; 500000 and pidm &lt; 700000<br/>UNION ALL<br/>SELECT spriden_id,pidm, Initials, RealName, source_code, Namemod,<br/> old_rollnumber, new_rollnumber, visible_id, sos_code, person_status_code,<br/> dept_code, temp_person_code, qual_aim_code, person_state, yr_student, <br/> yr_course, acad_sess, reg_status, leaver_flag, talis_hold, barcode, title, program, stu_term, <br/> stu_levl, stu_styp, stu_degc, stu_block, <br/> stu_stst, stu_ests, stu_att, preferredName, start_date, end_date, secret, multi_post, b_date, <br/> sap_dept_code, is_alumnus<br/>FROM MailPerl.Person <br/>WHERE (spriden_id like '%@5%' or spriden_id like '%@6%')<br/>AND realname = 'Testdata'<br/>and pidm &gt; 500000 and pidm &lt; 700000<br/>GROUP BY Initials, RealName, source_code, Namemod,<br/> old_rollnumber, new_rollnumber, visible_id, sos_code, person_status_code,<br/> dept_code, temp_person_code, qual_aim_code, person_state, yr_student, <br/> yr_course, acad_sess, reg_status, leaver_flag, talis_hold, barcode, pidm, title, program, stu_term, <br/> stu_levl, stu_styp, stu_degc, stu_block, <br/> stu_stst, stu_ests, stu_att, preferredName, start_date, end_date, secret, multi_post, b_date, <br/> sap_dept_code, is_alumnus<br/>order by pidm;</p></td><td colspan="1" class="confluenceTd"><strong>The results of completing these tests on 6th October 2015 was that no differences were found between the contents of the MailPerl.Person table and the MailNet.Person table.</strong></td></tr><tr><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td></tr></tbody></table></div><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23201724/23201868.txt">BannerForPerson - SQL Insert Script for Perl.txt</a> (text/plain)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23201724/23201867.txt">BannerForPerson - SQL Insert Script for Perl.txt</a> (text/plain)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23201724/23201869.sql">BannerForPerson - SQL Insert Script for Perl.sql</a> (application/x-upload-data)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23201724/23201877.xml">quartz_jobs_1501.xml</a> (text/xml)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23201724/23201878.xml">quartz_jobs_1504.xml</a> (text/xml)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23201724/23201879.xml">quartz_jobs_1505.xml</a> (text/xml)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23201724/23201880.xml">quartz_jobs_1507.xml</a> (text/xml)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23201724/23201881.xml">quartz_jobs_1508.xml</a> (text/xml)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23201724/23201882.xml">quartz_jobs_1509.xml</a> (text/xml)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23201724/23201885.sql">BannerForPerson - SQL Insert Script for dotNet.sql</a> (application/x-upload-data)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23201724/23201904.png">image2015-10-9 15:1:2.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/23201724/23201905.png">image2015-10-9 15:5:43.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Mar 29, 2021 10:56</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
